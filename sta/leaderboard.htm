<link href="./index.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Roboto:100,200,300,400,500,600,700,800,900,1000&display=swap"
    rel="stylesheet">
<link href="https://huntingstats378.github.io/HuntingStats378/main/assets/ess/odometer.css" rel="stylesheet">
<script src="https://huntingstats378.github.io/main/assets/ess/odometer.js"></script>

<body style="background-color: transparent; color: black;">
    <div class="main" id="main" style="margin-top: 7.5px; display: grid; grid-template-columns: repeat(5, 1fr);">
        <div class="column_1 column">
            <div class="card card_0" id="card_0">
                <div class="num" id="num_0">01</div>
                <img src="./blank.png" alt id="fire_0" class="fire">
                <img src="./default.png" alt id="image_0" class="image">
                <div class="name" id="name_0">Loading</div>
                <div class="count odometer" id="count_0">0</div>
            </div>
            <div class="card card_1" id="card_1">
                <div class="num" id="num_1">02</div>
                <img src="./blank.png" alt id="fire_1" class="fire">
                <img src="./default.png" alt id="image_1" class="image">
                <div class="name" id="name_1">Loading</div>
                <div class="count odometer" id="count_1">0</div>
            </div>
            <div class="card card_2" id="card_2">
                <div class="num" id="num_2">03</div>
                <img src="./blank.png" alt id="fire_2" class="fire">
                <img src="./default.png" alt id="image_2" class="image">
                <div class="name" id="name_2">Loading</div>
                <div class="count odometer" id="count_2">0</div>
            </div>
            <div class="card card_3" id="card_3">
                <div class="num" id="num_3">04</div>
                <img src="./blank.png" alt id="fire_3" class="fire">
                <img src="./default.png" alt id="image_3" class="image">
                <div class="name" id="name_3">Loading</div>
                <div class="count odometer" id="count_3">0</div>
            </div>
            <div class="card card_4" id="card_4">
                <div class="num" id="num_4">05</div>
                <img src="./blank.png" alt id="fire_4" class="fire">
                <img src="./default.png" alt id="image_4" class="image">
                <div class="name" id="name_4">Loading</div>
                <div class="count odometer" id="count_4">0</div>
            </div>
            <div class="card card_5" id="card_5">
                <div class="num" id="num_5">06</div>
                <img src="./blank.png" alt id="fire_5" class="fire">
                <img src="./default.png" alt id="image_5" class="image">
                <div class="name" id="name_5">Loading</div>
                <div class="count odometer" id="count_5">0</div>
            </div>
            <div class="card card_6" id="card_6">
                <div class="num" id="num_6">07</div>
                <img src="./blank.png" alt id="fire_6" class="fire">
                <img src="./default.png" alt id="image_6" class="image">
                <div class="name" id="name_6">Loading</div>
                <div class="count odometer" id="count_6">0</div>
            </div>
            <div class="card card_7" id="card_7">
                <div class="num" id="num_7">08</div>
                <img src="./blank.png" alt id="fire_7" class="fire">
                <img src="./default.png" alt id="image_7" class="image">
                <div class="name" id="name_7">Loading</div>
                <div class="count odometer" id="count_7">0</div>
            </div>
            <div class="card card_8" id="card_8">
                <div class="num" id="num_8">09</div>
                <img src="./blank.png" alt id="fire_8" class="fire">
                <img src="./default.png" alt id="image_8" class="image">
                <div class="name" id="name_8">Loading</div>
                <div class="count odometer" id="count_8">0</div>
            </div>
            <div class="card card_9" id="card_9">
                <div class="num" id="num_9">10</div>
                <img src="./blank.png" alt id="fire_9" class="fire">
                <img src="./default.png" alt id="image_9" class="image">
                <div class="name" id="name_9">Loading</div>
                <div class="count odometer" id="count_9">0</div>
            </div>
        </div>
        <div class="column_2 column">
            <div class="card card_10" id="card_10">
                <div class="num" id="num_10">11</div>
                <img src="./blank.png" alt id="fire_10" class="fire">
                <img src="./default.png" alt id="image_10" class="image">
                <div class="name" id="name_10">Loading</div>
                <div class="count odometer" id="count_10">0</div>
            </div>
            <div class="card card_11" id="card_11">
                <div class="num" id="num_11">12</div>
                <img src="./blank.png" alt id="fire_11" class="fire">
                <img src="./default.png" alt id="image_11" class="image">
                <div class="name" id="name_11">Loading</div>
                <div class="count odometer" id="count_11">0</div>
            </div>
            <div class="card card_12" id="card_12">
                <div class="num" id="num_12">13</div>
                <img src="./blank.png" alt id="fire_12" class="fire">
                <img src="./default.png" alt id="image_12" class="image">
                <div class="name" id="name_12">Loading</div>
                <div class="count odometer" id="count_12">0</div>
            </div>
            <div class="card card_13" id="card_13">
                <div class="num" id="num_13">14</div>
                <img src="./blank.png" alt id="fire_13" class="fire">
                <img src="./default.png" alt id="image_13" class="image">
                <div class="name" id="name_13">Loading</div>
                <div class="count odometer" id="count_13">0</div>
            </div>
            <div class="card card_14" id="card_14">
                <div class="num" id="num_14">15</div>
                <img src="./blank.png" alt id="fire_14" class="fire">
                <img src="./default.png" alt id="image_14" class="image">
                <div class="name" id="name_14">Loading</div>
                <div class="count odometer" id="count_14">0</div>
            </div>
            <div class="card card_15" id="card_15">
                <div class="num" id="num_15">16</div>
                <img src="./blank.png" alt id="fire_15" class="fire">
                <img src="./default.png" alt id="image_15" class="image">
                <div class="name" id="name_15">Loading</div>
                <div class="count odometer" id="count_15">0</div>
            </div>
            <div class="card card_16" id="card_16">
                <div class="num" id="num_16">17</div>
                <img src="./blank.png" alt id="fire_16" class="fire">
                <img src="./default.png" alt id="image_16" class="image">
                <div class="name" id="name_16">Loading</div>
                <div class="count odometer" id="count_16">0</div>
            </div>
            <div class="card card_17" id="card_17">
                <div class="num" id="num_17">18</div>
                <img src="./blank.png" alt id="fire_17" class="fire">
                <img src="./default.png" alt id="image_17" class="image">
                <div class="name" id="name_17">Loading</div>
                <div class="count odometer" id="count_17">0</div>
            </div>
            <div class="card card_18" id="card_18">
                <div class="num" id="num_18">19</div>
                <img src="./blank.png" alt id="fire_18" class="fire">
                <img src="./default.png" alt id="image_18" class="image">
                <div class="name" id="name_18">Loading</div>
                <div class="count odometer" id="count_18">0</div>
            </div>
            <div class="card card_19" id="card_19">
                <div class="num" id="num_19">20</div>
                <img src="./blank.png" alt id="fire_19" class="fire">
                <img src="./default.png" alt id="image_19" class="image">
                <div class="name" id="name_19">Loading</div>
                <div class="count odometer" id="count_19">0</div>
            </div>
        </div>
        <div class="column_3 column">
            <div class="card card_20" id="card_20">
                <div class="num" id="num_20">21</div>
                <img src="./blank.png" alt id="fire_20" class="fire">
                <img src="./default.png" alt id="image_20" class="image">
                <div class="name" id="name_20">Loading</div>
                <div class="count odometer" id="count_20">0</div>
            </div>
            <div class="card card_21" id="card_21">
                <div class="num" id="num_21">22</div>
                <img src="./blank.png" alt id="fire_21" class="fire">
                <img src="./default.png" alt id="image_21" class="image">
                <div class="name" id="name_21">Loading</div>
                <div class="count odometer" id="count_21">0</div>
            </div>
            <div class="card card_22" id="card_22">
                <div class="num" id="num_22">23</div>
                <img src="./blank.png" alt id="fire_22" class="fire">
                <img src="./default.png" alt id="image_22" class="image">
                <div class="name" id="name_22">Loading</div>
                <div class="count odometer" id="count_22">0</div>
            </div>
            <div class="card card_23" id="card_23">
                <div class="num" id="num_23">24</div>
                <img src="./blank.png" alt id="fire_23" class="fire">
                <img src="./default.png" alt id="image_23" class="image">
                <div class="name" id="name_23">Loading</div>
                <div class="count odometer" id="count_23">0</div>
            </div>
            <div class="card card_24" id="card_24">
                <div class="num" id="num_24">25</div>
                <img src="./blank.png" alt id="fire_24" class="fire">
                <img src="./default.png" alt id="image_24" class="image">
                <div class="name" id="name_24">Loading</div>
                <div class="count odometer" id="count_24">0</div>
            </div>
            <div class="card card_25" id="card_25">
                <div class="num" id="num_25">26</div>
                <img src="./blank.png" alt id="fire_25" class="fire">
                <img src="./default.png" alt id="image_25" class="image">
                <div class="name" id="name_25">Loading</div>
                <div class="count odometer" id="count_25">0</div>
            </div>
            <div class="card card_26" id="card_26">
                <div class="num" id="num_26">27</div>
                <img src="./blank.png" alt id="fire_26" class="fire">
                <img src="./default.png" alt id="image_26" class="image">
                <div class="name" id="name_26">Loading</div>
                <div class="count odometer" id="count_26">0</div>
            </div>
            <div class="card card_27" id="card_27">
                <div class="num" id="num_27">28</div>
                <img src="./blank.png" alt id="fire_27" class="fire">
                <img src="./default.png" alt id="image_27" class="image">
                <div class="name" id="name_27">Loading</div>
                <div class="count odometer" id="count_27">0</div>
            </div>
            <div class="card card_28" id="card_28">
                <div class="num" id="num_28">29</div>
                <img src="./blank.png" alt id="fire_28" class="fire">
                <img src="./default.png" alt id="image_28" class="image">
                <div class="name" id="name_28">Loading</div>
                <div class="count odometer" id="count_28">0</div>
            </div>
            <div class="card card_29" id="card_29">
                <div class="num" id="num_29">30</div>
                <img src="./blank.png" alt id="fire_29" class="fire">
                <img src="./default.png" alt id="image_29" class="image">
                <div class="name" id="name_29">Loading</div>
                <div class="count odometer" id="count_29">0</div>
            </div>
        </div>
        <div class="column_4 column">
            <div class="card card_30" id="card_30">
                <div class="num" id="num_30">31</div>
                <img src="./blank.png" alt id="fire_30" class="fire">
                <img src="./default.png" alt id="image_30" class="image">
                <div class="name" id="name_30">Loading</div>
                <div class="count odometer" id="count_30">0</div>
            </div>
            <div class="card card_31" id="card_31">
                <div class="num" id="num_31">32</div>
                <img src="./blank.png" alt id="fire_31" class="fire">
                <img src="./default.png" alt id="image_31" class="image">
                <div class="name" id="name_31">Loading</div>
                <div class="count odometer" id="count_31">0</div>
            </div>
            <div class="card card_32" id="card_32">
                <div class="num" id="num_32">33</div>
                <img src="./blank.png" alt id="fire_32" class="fire">
                <img src="./default.png" alt id="image_32" class="image">
                <div class="name" id="name_32">Loading</div>
                <div class="count odometer" id="count_32">0</div>
            </div>
            <div class="card card_33" id="card_33">
                <div class="num" id="num_33">34</div>
                <img src="./blank.png" alt id="fire_33" class="fire">
                <img src="./default.png" alt id="image_33" class="image">
                <div class="name" id="name_33">Loading</div>
                <div class="count odometer" id="count_33">0</div>
            </div>
            <div class="card card_34" id="card_34">
                <div class="num" id="num_34">35</div>
                <img src="./blank.png" alt id="fire_34" class="fire">
                <img src="./default.png" alt id="image_34" class="image">
                <div class="name" id="name_34">Loading</div>
                <div class="count odometer" id="count_34">0</div>
            </div>
            <div class="card card_35" id="card_35">
                <div class="num" id="num_35">36</div>
                <img src="./blank.png" alt id="fire_35" class="fire">
                <img src="./default.png" alt id="image_35" class="image">
                <div class="name" id="name_35">Loading</div>
                <div class="count odometer" id="count_35">0</div>
            </div>
            <div class="card card_36" id="card_36">
                <div class="num" id="num_36">37</div>
                <img src="./blank.png" alt id="fire_36" class="fire">
                <img src="./default.png" alt id="image_36" class="image">
                <div class="name" id="name_36">Loading</div>
                <div class="count odometer" id="count_36">0</div>
            </div>
            <div class="card card_37" id="card_37">
                <div class="num" id="num_37">38</div>
                <img src="./blank.png" alt id="fire_37" class="fire">
                <img src="./default.png" alt id="image_37" class="image">
                <div class="name" id="name_37">Loading</div>
                <div class="count odometer" id="count_37">0</div>
            </div>
            <div class="card card_38" id="card_38">
                <div class="num" id="num_38">39</div>
                <img src="./blank.png" alt id="fire_38" class="fire">
                <img src="./default.png" alt id="image_38" class="image">
                <div class="name" id="name_38">Loading</div>
                <div class="count odometer" id="count_38">0</div>
            </div>
            <div class="card card_39" id="card_39">
                <div class="num" id="num_39">40</div>
                <img src="./blank.png" alt id="fire_39" class="fire">
                <img src="./default.png" alt id="image_39" class="image">
                <div class="name" id="name_39">Loading</div>
                <div class="count odometer" id="count_39">0</div>
            </div>
        </div>
        <div class="column_5 column">
            <div class="card card_40" id="card_40">
                <div class="num" id="num_40">41</div>
                <img src="./blank.png" alt id="fire_40" class="fire">
                <img src="./default.png" alt id="image_40" class="image">
                <div class="name" id="name_40">Loading</div>
                <div class="count odometer" id="count_40">0</div>
            </div>
            <div class="card card_41" id="card_41">
                <div class="num" id="num_41">42</div>
                <img src="./blank.png" alt id="fire_41" class="fire">
                <img src="./default.png" alt id="image_41" class="image">
                <div class="name" id="name_41">Loading</div>
                <div class="count odometer" id="count_41">0</div>
            </div>
            <div class="card card_42" id="card_42">
                <div class="num" id="num_42">43</div>
                <img src="./blank.png" alt id="fire_42" class="fire">
                <img src="./default.png" alt id="image_42" class="image">
                <div class="name" id="name_42">Loading</div>
                <div class="count odometer" id="count_42">0</div>
            </div>
            <div class="card card_43" id="card_43">
                <div class="num" id="num_43">44</div>
                <img src="./blank.png" alt id="fire_43" class="fire">
                <img src="./default.png" alt id="image_43" class="image">
                <div class="name" id="name_43">Loading</div>
                <div class="count odometer" id="count_43">0</div>
            </div>
            <div class="card card_44" id="card_44">
                <div class="num" id="num_44">45</div>
                <img src="./blank.png" alt id="fire_44" class="fire">
                <img src="./default.png" alt id="image_44" class="image">
                <div class="name" id="name_44">Loading</div>
                <div class="count odometer" id="count_44">0</div>
            </div>
            <div class="card card_45" id="card_45">
                <div class="num" id="num_45">46</div>
                <img src="./blank.png" alt id="fire_45" class="fire">
                <img src="./default.png" alt id="image_45" class="image">
                <div class="name" id="name_45">Loading</div>
                <div class="count odometer" id="count_45">0</div>
            </div>
            <div class="card card_46" id="card_46">
                <div class="num" id="num_46">47</div>
                <img src="./blank.png" alt id="fire_46" class="fire">
                <img src="./default.png" alt id="image_46" class="image">
                <div class="name" id="name_46">Loading</div>
                <div class="count odometer" id="count_46">0</div>
            </div>
            <div class="card card_47" id="card_47">
                <div class="num" id="num_47">48</div>
                <img src="./blank.png" alt id="fire_47" class="fire">
                <img src="./default.png" alt id="image_47" class="image">
                <div class="name" id="name_47">Loading</div>
                <div class="count odometer" id="count_47">0</div>
            </div>
            <div class="card card_48" id="card_48">
                <div class="num" id="num_48">49</div>
                <img src="./blank.png" alt id="fire_48" class="fire">
                <img src="./default.png" alt id="image_48" class="image">
                <div class="name" id="name_48">Loading</div>
                <div class="count odometer" id="count_48">0</div>
            </div>
            <div class="card card_49" id="card_49">
                <div class="num" id="num_49">50</div>
                <img src="./blank.png" alt id="fire_49" class="fire">
                <img src="./default.png" alt id="image_49" class="image">
                <div class="name" id="name_49">Loading</div>
                <div class="count odometer" id="count_49">0</div>
            </div>
        </div>
    </div>
</body>
<script>
    function totalXPToLevel(level) {
        return (level * (2 * 75 + (level - 1) * 100)) / 2;
    }

    function getTotalXP(level, currentXP) {
        return Math.round(totalXPToLevel(level) + currentXP);
    }

    function getAvatarURL(user) {
        if (!user.avatar || !user.id) return "./default.png"; // fallback
        const isGif = user.avatar.startsWith("a_");
        const extension = isGif ? "gif" : "png";
        return `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.${extension}`;
    }

    async function fetchAndUpdate() {
        try {
            const response = await fetch("https://huntingstats378.onrender.com/api/discord/statistics/top100");
            const users = await response.json();

            users.slice(0, 50).forEach((user, index) => {
                const nameEl = document.getElementById(`name_${index}`);
                const countEl = document.getElementById(`count_${index}`);
                const imageEl = document.getElementById(`image_${index}`);

                if (nameEl) nameEl.textContent = user.username;
                if (countEl) countEl.innerHTML = getTotalXP(user.level, user.xp);
                if (imageEl) {
                    const avatarURL = getAvatarURL(user);
                    imageEl.src = avatarURL;
                    imageEl.onerror = () => {
                        imageEl.onerror = null; // prevent infinite loop
                        imageEl.src = "./default.png";
                    };
                }
            });
        } catch (err) {
            console.error("Failed to fetch data:", err);
        }
    }

    fetchAndUpdate();
    setInterval(fetchAndUpdate, 60000);
</script>
